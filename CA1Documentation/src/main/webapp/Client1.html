<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Client 1</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>
            <h1>Client 1</h1>

            <ul>
                <li>
                    <p>Applikationen er oprettet som et Maven Project.</p>
                    <div>
                        <img src="images/Client1GUI.PNG" alt="App" width="250" />
                    </div>
                </li>
                <li>
                    <p>Systemet består af 3 Classes: ClientControler.java, messages.java, og en GuiClient.java</p>
                    <div> 
                        <img src="images/Client1FileStructure.PNG" alt="Files"/>
                    </div>
                </li>
                <li> 
                    <p>Der skabes forbindelse mellem Client og Server igennem ClientControler.java ved brug af en Socket, dersuden implementeres observable</p>     
                    <p>Beskeder mellem Client og Server bliver afsendt som Strings med en PrintWriter, og modtages med en Scanner</p>
                    <div>
                        <img src="images/Client1Code.jpg" alt="Code" width="450"/>
                    </div>    
                </li>
                <li>                
                    <p>Når serveren afsender en besked til klienten, gemmes denne i en String</p>
                    <p>For at analysere den besked Client modtager fra serveren, splittes Stringen med "#", som aftalt i protokollen</p>
                </li>
                <li>
                    <p>For at systemet kan modtage flere beskeder, addes de til det relaterede Array i en Tråd, sådan at der ikke opstår race condition, og der mistet beskeder, eller programmet crasher</p>
                    <div>
                        <img src="images/Client1Code2.jpg" alt="" width="550"/>
                    </div>
                </li>
                <li>
                    <p>Client klassen består af to metoder: </p>
                    <div>
                        <img src="images/Client1Code3.jpg" alt="methods" width="450"/>
                    </div>
                </li>

                <li>
                    <p>I login methoden gennem vores PrintWriter, sender vi en String der starter 
                        LOGIN# (LOGIN# er reglen fra protokollen), og navnet får vi i vores Gui i tekstfield. 
                    </p>
                    <p>I sendBesked methoden gennem vores PrintWriter sender vi en String der strater 
                        MSG#  (MSG# er regle vores protokol) og navnet får vi i vores Gui gennem String, 
                        beskeden får vi gennem tekstfield der hedder TekstUser.
                    </p> 
                    <div>
                        <img src="images/Client1Code4.jpg" alt="Code" width="500"/>
                    </div>
                </li>
                <li>
                    <p>Gui implementes Observer, derfor har vi en methode update() ned i bundet, 
                        Med denne kode forbindes der til observer med observable med den kode i vores Gui
                    </p>
                    <div>
                        <img src="images/Client1Code5.jpg" alt="GUI" width="500"/>
                    </div>
                </li>

                <li>
                    <p>Derfor kan sendes en besked som gemmes i objecte i update() method</p>
                    <div>
                        <img src="images/Client1Code6.jpg" alt="update" width="500"/>
                    </div>
                </li>

                <li>
                    <h3>TESTS</h3>
                    <p>
                        I test packages lavede vi en package der hedder det samme den package der inholder den classe der vi vil lave test til, 
                        laver vi en junit test, i den junitest i toppen repræsenterer vores classe som vi vil lave test til der hedder clientContrler 
                        og en tråd der vil vores forbindelse fra servern til clienten og en scanner der printer alt der kommer fra clienten. 
                    </p>

                    <div>
                        <img src="images/Client1Junit.jpg" alt="Junit" width="500"/>
                    </div>

                    <p>
                        I @beforeclass forbinder vores serveren til det bestemte client. Det gøre vi med den host og port adress. 
                        Forbindelse med client og scanner i sin egen try og catch og tråden i sin try og catch.
                        I AfterClass slutter tråden efter hver sin forbindelse.
                    </p>

                    <div>
                        <img src="images/Client1Junit1.jpg" alt="Junit" width="500"/>
                    </div>

                    <p>
                        Så laver vi to overwrite 2 test methoder, da vi har kun 2 methode i vores clientControler: 
                    </p>
                    <ul>
                        <li>login()</li>
                        <li>sendbesked()</li>
                    </ul>
                    <div>
                        <img src="images/Client1Junit2.jpg" alt="junit" width="500"/>
                    </div>
                    <p>
                        i login() test method bruger login method som er vores clientControler og login med et navn, 
                        så sætter vi tråden til sleep for at serveren når få beskeden fra clienten, den besked der serveren får, 
                        gemmes i en string der vi har repræsenteret den helt op i vores JUnitTest, den spliter vi med ”#”, 
                        og lægger vi den i en String array, og så bruge den assertTrue med at teste nummer 0 i den string Arraye inholder vores ”LOGIN” 
                    </p>
                    <div>
                        <img src="images/Client1Junit3.jpg" alt="junit" width="500"/>
                    </div>



                    <p>
                        i sendBesked() test method bruger sendBesked method som er vores clientControler og sender besked med 2 parameter, 
                        som er bruger navn og besked, så sætter vi tråden til sleep for at serveren når få beskeden fra clienten, 
                        den besked der serveren får, gemmes i en String der vi har repræsenteret den helt op i vores JUnitTest, 
                        den spliter vi med ”#”, og lægger vi den i en String array, og så bruge den assertTrue med at teste nummer 0 i String Arrayet, 
                        og den skal indholde ”MSG”  
                    </p>
                    <div>
                        <img src="images/Client1Junit4.jpg" alt="junit" width="500"/>
                    </div>

                    <p>
                        Til sidst højre clicker vi på den JUnit test og klicker vi Test file og så skal vi få den result besked der viser at test er rigtigt.
                    </p>
                    <div>
                        <img src="images/Client1Junit5.jpg" alt="junit" width="500"/>
                    </div>
                </li>
            </ul>
            <h3><a href="SystemDesign.html">Back</a></h3>
            <h3><a href="index.html">Home</a></h3>
        </div>

    </body>
</html>
